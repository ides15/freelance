<html>
	<head>
		<link href='style.css' rel='stylesheet'>
	</head>

	<body>
		<div class="container">
			<nav>
				<ul class="clearfix">
					<li><a href="index.html"><center>Home</center></a>
					</li>

					<li><a href="#">About us</a>
					</li>
					
					<li><a href="#">Calculations</a>
						<ul>
							<li><a href="#">5 CRITICAL METRICS</a>
								<ul>
									<li><a href="">Measure One</a></li>
									<li><a href="">Measure Two</a></li>
									<li><a href="">Measure Three</a></li>
									<li><a href="">Measure Four</a></li>
								</ul>
							</li>
							
							<li><a href="#">BASIC MEASURES</a>
								<ul>
									<li><a href="">Basic One</a></li>
									<li><a href="">Basic Two</a></li>
									<li><a href="">Basic Three</a></li>
									<li><a href="gross rent multiplier.html">Basic Four</a></li>
									<li><a href="gross scheduled income.html">Basic Five</a></li>
									<li><a href="vacancy and credit loss.html">Basic Six</a></li>
								</ul>
							</li>
							
							<li><a href="#">INCOME</a>
								<ul>
									<li><a href="">1</a></li>
									<li><a href="">2</a></li>
									<li><a href="">3</a></li>
									<li><a href="">4</a></li>
									<li><a href="">5</a></li>
								</ul>
							</li>
							
							<li><a href="#">CASH</a>
								<ul>
									<li><a href="">1</a></li>
									<li><a href="">2</a></li>
									<li><a href="">3</a></li>
									<li><a href="">4</a></li>
									<li><a href="">5</a></li>
									<li><a href="">6</a></li>
									<li><a href="">7</a></li>
									<li><a href="">8</a></li>
								</ul>
							</li>
							
							<li><a href="#">RATIOS</a>
								<ul>
									<li><a href="">1</a></li>
									<li><a href="">2</a></li>
									<li><a href="">3</a></li>
									<li><a href="">4</a></li>
									<li><a href="">5</a></li>
								</ul>
							</li>
							
							<li><a href="#">MORTGAGES</a>
								<ul>
									<li><a href="">1</a></li>
									<li><a href="">2</a></li>
									<li><a href="">3</a></li>
									<li><a href="">4</a></li>
									<li><a href="">5</a></li>
								</ul>
							</li>
							
							<li><a href="#">LAND</a>
								<ul>
									<li><a href="">1</a></li>
									<li><a href="">2</a></li>
									<li><a href="">3</a></li>
									<li><a href="">4</a></li>
									<li><a href="">5</a></li>
									<li><a href="BUILDING">6</a>
										<ul>
											<li><a href="Building Measurements.html">Building Measurements</a></li>
											<li><a href="Gross Building Area.html">Gross Building Area</a></li>
											<li><a href="Usable Square Footage.html">Usable Square Footage</a></li>
											<li><a href="Rentable Square Footage.html">Rentable Square Footage</a></li>
											<li><a href="Loss Ratio.htl">Loss Ratio</a></li>
											<li><a href="Net Rentable Area.html">Net Rentable Area</a></li>
										</ul>
									</li>
								</ul>
							</li>
						</ul>
					</li>

					<li><a href="#"><center>Education</center></a>
						<ul>
							<li><a href=#>My NYU Course</a>
								<ul>
									<li><a href=#>Course Syllabus</a></li>
									<li><a href=#>1</a></li>
									<li><a href=#>2</a></li>
									<li><a href=#>3</a></li>
									<li><a href=#>4</a></li>
									<li><a href=#>5</a></li>
									<li><a href=#>6</a></li>
									<li><a href=#>7</a></li>
								</ul>
							</li>

							<li><a href=#>Tax Free Wealth</a>
								<ul>
									<li><a href=#>1</a></li>
									<li><a href=#>2</a></li>
									<li><a href=#>3</a></li>
									<li><a href=#>4</a></li>
									<li><a href=#>5</a></li>
									<li><a href=#>6</a></li>
									<li><a href=#>7</a></li>
									<li><a href=#>8</a></li>
								</ul>
							</li>

							<li><a href=#>EASY Accounting for Real Estate Investors</a>
								<ul>
									<li><a href=#>1</a></li>
									<li><a href=#>2</a></li>
									<li><a href=#>3</a></li>
									<li><a href=#>4</a></li>
									<li><a href=#>5</a></li>
									<li><a href=#>6</a></li>
									<li><a href=#>7</a></li>
									<li><a href=#>8</a></li>
								</ul>
							</li>
						</ul>
					</li>

					<li><a href="#"><center>ATD</center></a>
						<ul>
							<li><a href="">1</a></li>
							<li><a href="">2</a></li>
							<li><a href="">3</a>
								<ul>
									<li>1</li>
									<li>2</li>
									<li>3
										<ul>
											<li>1a</li>
											<li>2a</li>
											<li>3a</li>
											<li>4a</li>		
										</ul>
									</li>
								</ul>
							</li>
						</ul>
					</li>

					<li><a href="#">CPA Marketing</a>
						<ul>
							<li><a href=#>CPA Marketing - 10 Biggest Mistakes</a></li>
						</ul>
						<ul>
							<li><a href=#>You're a Few Skills From Wealth!</a></li>
						</ul>
					</li>

					<li><a href="#"><center>Get Paid!</center></a>
						<ul><a href="analyze the deal.html">CPA Marketing - 10 Biggest Mistakes</a></ul>
						<ul><a href="Loan Amort - Loan Src.html">You're Only a Few Skills Away</a></ul>
						<ul><a href="https://www.templatemonster.com/templates.php?pr=50108-38264-50568">Help Us Help You!</a></ul>
						<ul><a href="https://www.templatemonster.com/templates.php?pr=50108-38264-50568">We Love Referrals!</a></ul>
						<ul><a href="https://www.templatemonster.com/templates.php?pr=50108-38264-50568">Buy a Franchise!</a></ul>
					</li>
				</ul>
			</nav>

			<h1><strong>Page 1</strong></h1>

			<div class="box" id="loan_src">
				<a href="page_2.html"><button>Page 2</button></a>
				<form name="loan_form">
					<br>
					<table style="margin:10px;">
						<tr>
							<td><strong>Gross Scheduled Income:</strong></td>
							<td><input type="text" name="gsi" size="10" value="100,000" style="text-align:right;"/></td>	
						</tr>

						<tr>
							<td><strong>Vacancy & Credit Loss Percent:</strong></td>
							<td><input type="text" name="vaca" size="10" value="3" style="text-align:right;"/></td>	
						</tr>

						<tr>
							<td><strong>Gross Operating Income:</strong></td>	
						</tr>

						<tr>
							<td><strong>Operating Expenses:</strong></td>
						</tr>

						<tr>
							<td><strong>Net Operating Income:</strong></td>	
						</tr>

						<tr>
							<td><input type="button" onclick="calculate()" value="Calculate"</td>
							<td><input type="button" onclick="startOver()" value="Start Over"</td>
						</tr>
					</table>
				</form>
			</div>

			<div class="box" id="loan_info">
			</div>

			<div class="box" id="video">
				<video width="320" height="240" controls style="width:100%;height:100%;">
					<!-- <source src="ice_video_20170520-141641.mp4" type="video/mp4"> -->
					<!-- <source src="movie.ogg" type="video/ogg"> -->
				</video>
			</div>

			<div class="box" id="table">
			</div>
		</div>
	</body>

	<footer>
		<script>
			function startOver() {

				document.loan_form.gsi.value="0";
				document.loan_form.vaca.value="0";

				// Removes the key that was stored when the expenses were initially calculated.
				sessionStorage.removeItem('total_op_exp');

				calculate(parseFLoat(gsi), parseFloat(vaca));
			}

			function calculate(gsi, vaca) {

				gsi = document.loan_form.gsi.value;
				vaca = document.loan_form.vaca.value;

				gsi = gsi.split(",").join("");
				vaca = vaca.split(",").join("");


				if (isNaN(gsi)) {
					alert("Invalid Input: Property 1");
					return;
				}

				if (isNaN(vaca)) {
					alert("Invalid Input: GI 1");
					return;
				}

				var vacaa = -gsi * (vaca / 100);

				var goi = parseInt(gsi) + parseInt(vacaa);

				var noi = goi + parseInt(goi);


				var info = "";

				info += "<table width='375'>";


				info += "<tr><td><strong>Gross Scheduled Income:</strong></td>";
				info += "<td align='right'>$"+put_comma(gsi)+"</td>";


				info += "<tr><td><strong>Vacancy & Credit Loss %:</strong></td>";
				info += "<td align='right'>"+put_comma(vaca)+"%</td>";


				info += "<tr><td><strong>Vacancy & Credit Loss Amount:</strong></td>";
				info += "<td align='right'>$"+put_comma(vacaa)+"</td>";


				info += "<tr><td><strong>Gross Operating Income:</strong></td>";
				info += "<td align='right'>$"+put_comma(goi)+"</td>";

				// Here, I am setting a variable 'total_op_exp' equal to 0 initially, then
				// if there is a key called 'total_op_exp' in the session storage, I will make 
				// the variable 'total_op_exp' equal to the value associated with that key and 
				// populate the field.
				var total_op_exp = 0;
				if (sessionStorage.getItem('total_op_exp')) {
					total_op_exp = sessionStorage.getItem('total_op_exp');
				}

				info += "<tr><td><strong>Operating Expenses:</strong></td>";
				info += "<td align='right'>$"+total_op_exp+"</td>"; //THIS IS WHERE THE OPERATING EXPENSES SHOULD BE FROM PAGE 2
				
				
				info += "<tr><td><strong>Net Operating Income:</strong></td>";
				info += "<td align='right'>$"+put_comma(noi)+"</td>";

				document.getElementById("loan_info").innerHTML = info;
			}

			function put_comma(x) {
				var parts = x.toString().split(".");
				parts[0] = parts[0].replace(/\B(?=(\d{3})+(?!\d))/g, ",");
				return parts.join(".");
			}

			function round(num, dec) {
				//return new Number(+num.toFixed(dec));
				return (Math.round(num*Math.pow(10,dec))/Math.pow(10,dec).toFixed(dec));
			}
		</script>
	</footer>

</html>